#!/usr/bin/env bash

#
# Script setup
#

# Define toolbox directory if not set
if [ -z "$TOOLBOX" ]; then
    TOOLBOX="$HOME/.exolnet/toolbox"
fi

# Check if toolbox directory exists
if [ ! -d "$TOOLBOX" ]; then
    echo "Directory ~/.exolnet does not exists, exiting ..."
    exit 1
fi

# Source helpers
. $TOOLBOX/lib/header
. $TOOLBOX/lib/utils
. $TOOLBOX/lib/brew

#
# Script checks
#

# Check if command was ran as root.
if [[ $(id -u) -eq 0 ]]; then
    echo
    echo "The command \"`basename \"$0\"`\" should not be executed as root or via sudo directly."
    echo "When a command requires root access, you will be prompted for a password as needed."
    exit 1
fi

#
# Script execution
#

e_header "Installing Quick Look plugins"
cask_install betterzip
cask_install qlstephen

e_header "Installing applications"
cask_install atom
cask_install disk-inventory-x
cask_install firefox
cask_install google-chrome
cask_install imageoptim
cask_install keepassxc
cask_install microsoft-office
cask_install mysqlworkbench
cask_install opera
cask_install owncloud
cask_install phpstorm
cask_install sequel-pro
cask_install slack
cask_install sourcetree
cask_install sublime-text
cask_install visual-studio-code

e_header "Installing specific applications"

APPLICATIONS="adobe-creative-cloud virtualbox vagrant"

for application in $APPLICATIONS; do
    ask_yes_no "Install $application?" && cask_install "$application"
done

e_header "All done!"
